# í™”ë©´ ì„¤ê³„ ë¶„ì„ ë° ë¯¸ê°œë°œ ë¶€ë¶„ ê°œì„ 

## ì¼ì‹œ
- **ì¼ì‹œ**: 2025ë…„ 8ì›” 17ì¼ 10:15:00

## ğŸ“Š ìš”êµ¬ì‚¬í•­ vs í˜„ì¬ êµ¬í˜„ ë¹„êµ

### 5.1 ê´€ë¦¬ì í™”ë©´ ë¶„ì„

#### âœ… êµ¬í˜„ ì™„ë£Œëœ ë¶€ë¶„ (70%)

| ìš”êµ¬ì‚¬í•­ ë‹¨ê³„ | í˜„ì¬ êµ¬í˜„ | ìƒíƒœ | íŒŒì¼ ìœ„ì¹˜ |
|--------------|----------|------|-----------|
| **ì„œë¹„ìŠ¤ ì‹ ì²­/ë¡œê·¸ì¸** | âœ… ì™„ë£Œ | 100% | `LoginForm.tsx` |
| **í”„ë¡œì íŠ¸ ìƒì„±** | âœ… ì™„ë£Œ | 95% | `App.tsx` (í”„ë¡œì íŠ¸ ê´€ë¦¬) |
| **ëª¨ë¸ êµ¬ì¶• - ê¸°ì¤€ ì¶”ê°€** | âœ… ì™„ë£Œ | 90% | `ModelBuilder.tsx` |
| **ëª¨ë¸ êµ¬ì¶• - ëŒ€ì•ˆ ì¶”ê°€** | âœ… ì™„ë£Œ | 90% | `ModelBuilder.tsx` |
| **ëª¨ë¸ í™•ì •/í‰ê°€ ì‹œì‘** | âš ï¸ ë¶€ë¶„ | 30% | ìƒíƒœ ë³€ê²½ ë¡œì§ ë¶€ì¡± |

#### âŒ ë¯¸êµ¬í˜„ ë¶€ë¶„ (0-30%)

| ìš”êµ¬ì‚¬í•­ ë‹¨ê³„ | í˜„ì¬ ìƒíƒœ | ì™„ì„±ë„ | ìš°ì„ ìˆœìœ„ |
|--------------|----------|--------|----------|
| **í‰ê°€ì ë°°ì • (p001...)** | ë¯¸êµ¬í˜„ | 0% | ğŸ”¥ ë†’ìŒ |
| **í‰ê°€ë°©ë²• ì„ íƒ** | ë¯¸êµ¬í˜„ | 0% | ğŸ”¥ ë†’ìŒ |
| **ê²°ê³¼/ì§„í–‰ í˜„í™©** | ê¸°ì´ˆë§Œ | 20% | ğŸ”¥ ë†’ìŒ |
| **ê·¸ë£¹ ê°€ì¤‘ì¹˜ ì¡°ì •** | ë¯¸êµ¬í˜„ | 0% | ğŸ”¶ ì¤‘ê°„ |
| **ë¯¼ê°ë„ ë¶„ì„** | ë¯¸êµ¬í˜„ | 0% | ğŸ”¶ ì¤‘ê°„ |
| **ìì›ë°°ë¶„ ì‹œë®¬ë ˆì´ì…˜** | ë¯¸êµ¬í˜„ | 0% | ğŸ”¶ ì¤‘ê°„ |
| **ì›Œí¬ìˆ ëª¨ë“œ** | ë¯¸êµ¬í˜„ | 0% | ğŸ”¹ ë‚®ìŒ |
| **ë‚´ë³´ë‚´ê¸° (Excel)** | ë¯¸êµ¬í˜„ | 0% | ğŸ”¶ ì¤‘ê°„ |

### 5.2 í‰ê°€ì í™”ë©´ ë¶„ì„

#### âœ… êµ¬í˜„ ì™„ë£Œëœ ë¶€ë¶„ (50%)

| ìš”êµ¬ì‚¬í•­ ë‹¨ê³„ | í˜„ì¬ êµ¬í˜„ | ìƒíƒœ | íŒŒì¼ ìœ„ì¹˜ |
|--------------|----------|------|-----------|
| **ì ‘ì†í‚¤ë¡œ ì…ì¥** | âš ï¸ ë¶€ë¶„ | 50% | ë¡œê·¸ì¸ë§Œ ìˆìŒ |
| **ìŒëŒ€ë¹„êµ UI** | âœ… ê¸°ë³¸ | 70% | `PairwiseComparison.tsx` |
| **1~9/ì—­ìˆ˜ ë²„íŠ¼** | âœ… ì™„ë£Œ | 95% | Saaty ì²™ë„ êµ¬í˜„ |
| **ë§¤íŠ¸ë¦­ìŠ¤ í‘œì‹œ** | âœ… ì™„ë£Œ | 90% | ë¹„êµ ë§¤íŠ¸ë¦­ìŠ¤ í…Œì´ë¸” |

#### âŒ ë¯¸êµ¬í˜„ ë¶€ë¶„ (0-50%)

| ìš”êµ¬ì‚¬í•­ ë‹¨ê³„ | í˜„ì¬ ìƒíƒœ | ì™„ì„±ë„ | ìš°ì„ ìˆœìœ„ |
|--------------|----------|--------|----------|
| **ì ‘ì†í‚¤ ì‹œìŠ¤í…œ** | ë¯¸êµ¬í˜„ | 0% | ğŸ”¥ ë†’ìŒ |
| **ë°°ì •ëœ í”„ë¡œì íŠ¸ ì„ íƒ** | ë¯¸êµ¬í˜„ | 0% | ğŸ”¥ ë†’ìŒ |
| **ì§ì ‘ì…ë ¥ í‰ê°€** | ë¯¸êµ¬í˜„ | 0% | ğŸ”¥ ë†’ìŒ |
| **CR > 0.1 íŒë‹¨ ë„ìš°ë¯¸** | ë¯¸êµ¬í˜„ | 0% | ğŸ”¥ ë†’ìŒ |
| **ë§¤íŠ¸ë¦­ìŠ¤ ë‹¨ìœ„ "ë‹¤ìŒ"** | ë¶€ë¶„ | 30% | ğŸ”¶ ì¤‘ê°„ |
| **ê²°ê³¼ í™•ì¸ â†’ Excel** | ë¯¸êµ¬í˜„ | 0% | ğŸ”¶ ì¤‘ê°„ |
| **ì¬í‰ê°€ ê¸°ëŠ¥** | ë¯¸êµ¬í˜„ | 0% | ğŸ”¶ ì¤‘ê°„ |

## ğŸš§ ì¦‰ì‹œ êµ¬í˜„ í•„ìš”í•œ ì»´í¬ë„ŒíŠ¸

### 1. í‰ê°€ì ë°°ì • ì‹œìŠ¤í…œ (EvaluatorAssignment.tsx)

```typescript
interface EvaluatorAssignmentProps {
  projectId: string;
  onComplete?: () => void;
}

interface Evaluator {
  id: string;
  code: string;      // p001, p002, ...
  name?: string;
  email?: string;
  isAssigned: boolean;
  weight: number;    // ê·¸ë£¹ ê°€ì¤‘ì¹˜
}
```

### 2. í‰ê°€ë°©ë²• ì„ íƒ (EvaluationMethodSelector.tsx)

```typescript
interface EvaluationMethod {
  type: 'pairwise' | 'direct';
  criteria: string[];  // í•´ë‹¹ í‰ê°€ ë°©ë²•ì„ ì‚¬ìš©í•  ê¸°ì¤€ IDë“¤
}

interface EvaluationMethodSelectorProps {
  projectId: string;
  criteria: Criterion[];
  onMethodChange: (methods: EvaluationMethod[]) => void;
}
```

### 3. ì§ì ‘ì…ë ¥ í‰ê°€ (DirectInputEvaluation.tsx)

```typescript
interface DirectInputProps {
  projectId: string;
  criterionId: string;
  alternatives: Alternative[];
  onComplete?: () => void;
}

interface DirectInputValue {
  alternativeId: string;
  value: number;
  isBenefit: boolean;  // ë¹„ìš©í˜• "ì—­ìˆ˜ ì ìš©" í† ê¸€
}
```

### 4. íŒë‹¨ ë„ìš°ë¯¸ (ConsistencyHelper.tsx)

```typescript
interface InconsistencyAdvice {
  i: number;
  j: number;
  currentValue: number;
  recommendedValue: number;
  errorMagnitude: number;
  rank: number;  // ì œì•ˆ 1, 2, 3
}

interface ConsistencyHelperProps {
  matrix: number[][];
  elements: (Criterion | Alternative)[];
  onSuggestionApply: (i: number, j: number, value: number) => void;
}
```

### 5. ì§„í–‰ ìƒí™© ëŒ€ì‹œë³´ë“œ (ProgressDashboard.tsx)

```typescript
interface EvaluatorProgress {
  evaluatorId: string;
  evaluatorName: string;
  completionRate: number;    // 0-100%
  completedComparisons: number;
  totalComparisons: number;
  lastUpdated: Date;
}

interface ProgressDashboardProps {
  projectId: string;
  evaluators: EvaluatorProgress[];
}
```

### 6. ì ‘ì†í‚¤ ì‹œìŠ¤í…œ (AccessKeyLogin.tsx)

```typescript
interface AccessKeyLoginProps {
  onLogin: (evaluatorId: string, projectId: string) => void;
}

// í‰ê°€ìëŠ” ì´ë©”ì¼/íŒ¨ìŠ¤ì›Œë“œ ëŒ€ì‹  ì ‘ì†í‚¤ë¡œ ë¡œê·¸ì¸
// ì˜ˆ: "P001-PROJ123" í˜•íƒœ
```

## ğŸ“ ê°œì„ ì´ í•„ìš”í•œ ê¸°ì¡´ ì»´í¬ë„ŒíŠ¸

### 1. ModelBuilder.tsx ê°œì„ 

```typescript
// ì¶”ê°€ í•„ìš” ê¸°ëŠ¥
interface ModelBuilderState {
  evaluationMethods: { [criterionId: string]: 'pairwise' | 'direct' };
  projectStatus: 'draft' | 'ready' | 'running' | 'completed';
  assignedEvaluators: Evaluator[];
}

// ì¶”ê°€ í•„ìš” UI
- í‰ê°€ë°©ë²• ì„ íƒ ë“œë¡­ë‹¤ìš´ (ê¸°ì¤€ë³„)
- í‰ê°€ì ë°°ì • ë²„íŠ¼
- ëª¨ë¸ í™•ì • ë²„íŠ¼ ("í‰ê°€ ì‹œì‘")
- ìƒíƒœ í‘œì‹œ ë°°ì§€
```

### 2. PairwiseComparison.tsx ê°œì„ 

```typescript
// ì¶”ê°€ í•„ìš” ê¸°ëŠ¥
interface PairwiseComparisonState {
  currentMatrixKey: string;  // "C:criterionId" or "A:criterionId"
  matrixIndex: number;       // í˜„ì¬ ë§¤íŠ¸ë¦­ìŠ¤ ë²ˆí˜¸
  totalMatrices: number;     // ì „ì²´ ë§¤íŠ¸ë¦­ìŠ¤ ìˆ˜
  consistencyRatio: number;  // ì‹¤ì‹œê°„ CR ê³„ì‚°
  showConsistencyHelper: boolean;
}

// ì¶”ê°€ í•„ìš” UI
- ë§¤íŠ¸ë¦­ìŠ¤ ë‹¨ìœ„ ë„¤ë¹„ê²Œì´ì…˜ ("ì´ì „ ë§¤íŠ¸ë¦­ìŠ¤", "ë‹¤ìŒ ë§¤íŠ¸ë¦­ìŠ¤")
- ì‹¤ì‹œê°„ ì¼ê´€ì„± í‘œì‹œ
- CR > 0.1 ì‹œ "íŒë‹¨ ë„ìš°ë¯¸" íŒ¨ë„
- ë§¤íŠ¸ë¦­ìŠ¤ë³„ ì§„í–‰ë¥  í‘œì‹œ
```

### 3. ResultsDashboard.tsx ê°œì„ 

```typescript
// ì¶”ê°€ í•„ìš” ê¸°ëŠ¥
interface ResultsDashboardState {
  viewMode: 'individual' | 'group';
  selectedEvaluators: string[];
  sensitivityAnalysis: SensitivityResult[];
  exportOptions: ExportConfig;
}

// ì¶”ê°€ í•„ìš” UI
- ê°œì¸/ê·¸ë£¹ ê²°ê³¼ í† ê¸€
- í‰ê°€ì ì„ íƒ ì²´í¬ë°•ìŠ¤
- ë¯¼ê°ë„ ë¶„ì„ ì°¨íŠ¸
- Excel/CSV ë‚´ë³´ë‚´ê¸° ë²„íŠ¼
- ìì›ë°°ë¶„ ì‹œë®¬ë ˆì´ì…˜ íŒ¨ë„
```

## ğŸ”§ ì‹ ê·œ ì»´í¬ë„ŒíŠ¸ êµ¬í˜„

### 1. í‰ê°€ì ë°°ì • ì»´í¬ë„ŒíŠ¸

```typescript
// frontend/src/components/admin/EvaluatorAssignment.tsx
import React, { useState, useEffect } from 'react';
import Card from '../common/Card';

interface Evaluator {
  id: string;
  code: string;
  name: string;
  email?: string;
  weight: number;
  isAssigned: boolean;
}

const EvaluatorAssignment: React.FC<{projectId: string}> = ({ projectId }) => {
  const [evaluators, setEvaluators] = useState<Evaluator[]>([]);
  const [newEvaluatorCode, setNewEvaluatorCode] = useState('');
  const [newEvaluatorName, setNewEvaluatorName] = useState('');

  const generateAccessKey = (evaluatorCode: string) => {
    return `${evaluatorCode}-${projectId.substring(0, 8).toUpperCase()}`;
  };

  const addEvaluator = async () => {
    // API í˜¸ì¶œë¡œ í‰ê°€ì ì¶”ê°€
    const newEvaluator: Evaluator = {
      id: Date.now().toString(),
      code: newEvaluatorCode,
      name: newEvaluatorName,
      weight: 1.0,
      isAssigned: true
    };
    
    setEvaluators([...evaluators, newEvaluator]);
    setNewEvaluatorCode('');
    setNewEvaluatorName('');
  };

  return (
    <Card title="í‰ê°€ì ë°°ì •">
      <div className="space-y-4">
        {/* í‰ê°€ì ì¶”ê°€ í¼ */}
        <div className="bg-gray-50 p-4 rounded-lg">
          <h5 className="font-medium mb-3">ìƒˆ í‰ê°€ì ì¶”ê°€</h5>
          <div className="grid grid-cols-1 md:grid-cols-3 gap-3">
            <input
              type="text"
              placeholder="í‰ê°€ì ì½”ë“œ (ì˜ˆ: P001)"
              value={newEvaluatorCode}
              onChange={(e) => setNewEvaluatorCode(e.target.value.toUpperCase())}
              className="px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
            />
            <input
              type="text"
              placeholder="í‰ê°€ì ì´ë¦„"
              value={newEvaluatorName}
              onChange={(e) => setNewEvaluatorName(e.target.value)}
              className="px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
            />
            <button
              onClick={addEvaluator}
              className="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"
            >
              ì¶”ê°€
            </button>
          </div>
        </div>

        {/* í‰ê°€ì ëª©ë¡ */}
        <div className="space-y-2">
          {evaluators.map(evaluator => (
            <div key={evaluator.id} className="flex items-center justify-between p-3 bg-white border border-gray-200 rounded-lg">
              <div className="flex items-center space-x-4">
                <span className="font-medium">{evaluator.code}</span>
                <span>{evaluator.name}</span>
                <span className="text-sm text-gray-500">
                  ì ‘ì†í‚¤: {generateAccessKey(evaluator.code)}
                </span>
              </div>
              <div className="flex items-center space-x-2">
                <input
                  type="number"
                  min="0.1"
                  max="10"
                  step="0.1"
                  value={evaluator.weight}
                  onChange={(e) => {
                    const newWeight = parseFloat(e.target.value);
                    setEvaluators(evaluators.map(e => 
                      e.id === evaluator.id ? {...e, weight: newWeight} : e
                    ));
                  }}
                  className="w-16 px-2 py-1 border border-gray-300 rounded text-sm"
                />
                <span className="text-xs text-gray-500">ê°€ì¤‘ì¹˜</span>
                <button
                  onClick={() => setEvaluators(evaluators.filter(e => e.id !== evaluator.id))}
                  className="text-red-500 hover:text-red-700"
                >
                  ì‚­ì œ
                </button>
              </div>
            </div>
          ))}
        </div>

        {evaluators.length === 0 && (
          <div className="text-center py-8 text-gray-500">
            ë°°ì •ëœ í‰ê°€ìê°€ ì—†ìŠµë‹ˆë‹¤. í‰ê°€ìë¥¼ ì¶”ê°€í•´ì£¼ì„¸ìš”.
          </div>
        )}
      </div>
    </Card>
  );
};

export default EvaluatorAssignment;
```

### 2. ì§ì ‘ì…ë ¥ í‰ê°€ ì»´í¬ë„ŒíŠ¸

```typescript
// frontend/src/components/evaluation/DirectInputEvaluation.tsx
import React, { useState } from 'react';
import Card from '../common/Card';

interface DirectInputValue {
  alternativeId: string;
  alternativeName: string;
  value: number;
  isBenefit: boolean;
}

const DirectInputEvaluation: React.FC<{
  criterionId: string;
  criterionName: string;
  alternatives: Alternative[];
  onComplete: (values: DirectInputValue[]) => void;
}> = ({ criterionId, criterionName, alternatives, onComplete }) => {
  
  const [values, setValues] = useState<DirectInputValue[]>(
    alternatives.map(alt => ({
      alternativeId: alt.id,
      alternativeName: alt.name,
      value: 1,
      isBenefit: true
    }))
  );

  const [isBenefitCriterion, setIsBenefitCriterion] = useState(true);

  const updateValue = (alternativeId: string, newValue: number) => {
    setValues(values.map(v => 
      v.alternativeId === alternativeId 
        ? {...v, value: newValue} 
        : v
    ));
  };

  const calculateNormalizedWeights = () => {
    const processedValues = values.map(v => ({
      ...v,
      processedValue: isBenefitCriterion ? v.value : 1 / v.value
    }));

    const sum = processedValues.reduce((acc, v) => acc + v.processedValue, 0);
    
    return processedValues.map(v => ({
      ...v,
      normalizedWeight: v.processedValue / sum
    }));
  };

  const normalizedResults = calculateNormalizedWeights();

  return (
    <Card title={`ì§ì ‘ì…ë ¥ í‰ê°€: ${criterionName}`}>
      <div className="space-y-6">
        {/* í‰ê°€ ìœ í˜• ì„ íƒ */}
        <div className="bg-blue-50 border border-blue-200 rounded-lg p-4">
          <h5 className="font-medium text-blue-800 mb-3">í‰ê°€ ìœ í˜• ì„ íƒ</h5>
          <div className="flex items-center space-x-4">
            <label className="flex items-center">
              <input
                type="radio"
                checked={isBenefitCriterion}
                onChange={() => setIsBenefitCriterion(true)}
                className="mr-2"
              />
              <span>í¸ìµí˜• (ê°’ì´ í´ìˆ˜ë¡ ì¢‹ìŒ)</span>
            </label>
            <label className="flex items-center">
              <input
                type="radio"
                checked={!isBenefitCriterion}
                onChange={() => setIsBenefitCriterion(false)}
                className="mr-2"
              />
              <span>ë¹„ìš©í˜• (ê°’ì´ ì‘ì„ìˆ˜ë¡ ì¢‹ìŒ)</span>
            </label>
          </div>
          <p className="text-sm text-blue-600 mt-2">
            {isBenefitCriterion 
              ? "ğŸ’¡ í¸ìµí˜•: ì„±ê³¼, í’ˆì§ˆ, ë§Œì¡±ë„ ë“±" 
              : "ğŸ’¡ ë¹„ìš©í˜•: ê°€ê²©, ì†Œìš”ì‹œê°„, ìœ„í—˜ë„ ë“± (ìë™ìœ¼ë¡œ ì—­ìˆ˜ ì²˜ë¦¬ë©ë‹ˆë‹¤)"
            }
          </p>
        </div>

        {/* ê°’ ì…ë ¥ */}
        <div className="space-y-3">
          <h5 className="font-medium">ëŒ€ì•ˆë³„ ê°’ ì…ë ¥</h5>
          {values.map(value => (
            <div key={value.alternativeId} className="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
              <span className="font-medium">{value.alternativeName}</span>
              <div className="flex items-center space-x-3">
                <input
                  type="number"
                  min="0.001"
                  step="0.001"
                  value={value.value}
                  onChange={(e) => updateValue(value.alternativeId, parseFloat(e.target.value) || 0)}
                  className="w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
                />
                <span className="text-sm text-gray-500 w-20">
                  â†’ {normalizedResults.find(r => r.alternativeId === value.alternativeId)?.normalizedWeight.toFixed(3)}
                </span>
              </div>
            </div>
          ))}
        </div>

        {/* ì •ê·œí™” ê²°ê³¼ ë¯¸ë¦¬ë³´ê¸° */}
        <div className="bg-green-50 border border-green-200 rounded-lg p-4">
          <h5 className="font-medium text-green-800 mb-3">ì •ê·œí™” ê²°ê³¼ ë¯¸ë¦¬ë³´ê¸°</h5>
          <div className="space-y-2">
            {normalizedResults
              .sort((a, b) => b.normalizedWeight - a.normalizedWeight)
              .map((result, index) => (
                <div key={result.alternativeId} className="flex justify-between items-center">
                  <span className="flex items-center">
                    <span className="text-sm font-medium w-6">#{index + 1}</span>
                    <span>{result.alternativeName}</span>
                  </span>
                  <span className="font-medium text-green-700">
                    {(result.normalizedWeight * 100).toFixed(1)}%
                  </span>
                </div>
              ))}
          </div>
        </div>

        {/* ì™„ë£Œ ë²„íŠ¼ */}
        <div className="flex justify-end space-x-3">
          <button
            onClick={() => onComplete(values)}
            className="bg-green-500 text-white px-6 py-2 rounded hover:bg-green-600"
          >
            í‰ê°€ ì™„ë£Œ
          </button>
        </div>
      </div>
    </Card>
  );
};

export default DirectInputEvaluation;
```

### 3. íŒë‹¨ ë„ìš°ë¯¸ ì»´í¬ë„ŒíŠ¸

```typescript
// frontend/src/components/evaluation/ConsistencyHelper.tsx
import React, { useState, useEffect } from 'react';
import { 
  calculateAHP,
  buildComparisonMatrix
} from '../../utils/ahpCalculator';

interface InconsistencyAdvice {
  i: number;
  j: number;
  currentValue: number;
  recommendedValue: number;
  errorMagnitude: number;
  rank: number;
}

const ConsistencyHelper: React.FC<{
  matrix: number[][];
  elements: Array<{id: string, name: string}>;
  onSuggestionApply: (i: number, j: number, value: number) => void;
  onClose: () => void;
}> = ({ matrix, elements, onSuggestionApply, onClose }) => {

  const [suggestions, setSuggestions] = useState<InconsistencyAdvice[]>([]);

  useEffect(() => {
    if (matrix.length > 0) {
      generateSuggestions();
    }
  }, [matrix]);

  const generateSuggestions = () => {
    try {
      const result = calculateAHP(matrix);
      const weights = result.priorities;
      
      // ì¼ê´€ í–‰ë ¬ A^ êµ¬ì„±: a^_ij = w_i / w_j
      const consistentMatrix: number[][] = weights.map(wi => 
        weights.map(wj => wi / wj)
      );

      // ì˜¤ì°¨ ê³„ì‚°: E_ij = |log(a_ij) - log(a^_ij)|
      const errors: Array<{i: number, j: number, error: number}> = [];
      
      for (let i = 0; i < matrix.length; i++) {
        for (let j = i + 1; j < matrix.length; j++) {  // ìƒì‚¼ê°ë§Œ
          const actualValue = matrix[i][j];
          const consistentValue = consistentMatrix[i][j];
          const error = Math.abs(Math.log(actualValue) - Math.log(consistentValue));
          errors.push({ i, j, error });
        }
      }

      // |E_ij| ìƒìœ„ 3ê°œ ì„ ë³„
      const topErrors = errors
        .sort((a, b) => b.error - a.error)
        .slice(0, 3);

      const newSuggestions: InconsistencyAdvice[] = topErrors.map((item, index) => {
        const consistentValue = weights[item.i] / weights[item.j];
        const nearestSaatyValue = findNearestSaatyValue(consistentValue);
        
        return {
          i: item.i,
          j: item.j,
          currentValue: matrix[item.i][item.j],
          recommendedValue: nearestSaatyValue,
          errorMagnitude: item.error,
          rank: index + 1
        };
      });

      setSuggestions(newSuggestions);
    } catch (error) {
      console.error('Failed to generate suggestions:', error);
    }
  };

  const findNearestSaatyValue = (target: number): number => {
    const saatyValues = [1/9, 1/8, 1/7, 1/6, 1/5, 1/4, 1/3, 1/2, 1, 2, 3, 4, 5, 6, 7, 8, 9];
    return saatyValues.reduce((prev, curr) => 
      Math.abs(curr - target) < Math.abs(prev - target) ? curr : prev
    );
  };

  const formatSaatyValue = (value: number): string => {
    if (value === 1) return '1 (ë™ë“±)';
    if (value > 1) return `${value} (ì¢Œì¸¡ ìš°ì„¸)`;
    return `1/${Math.round(1/value)} (ìš°ì¸¡ ìš°ì„¸)`;
  };

  return (
    <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
      <div className="bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-96 overflow-y-auto">
        <div className="flex justify-between items-center mb-4">
          <h3 className="text-lg font-bold text-red-600">ğŸš¨ íŒë‹¨ ë„ìš°ë¯¸</h3>
          <button
            onClick={onClose}
            className="text-gray-500 hover:text-gray-700"
          >
            âœ•
          </button>
        </div>

        <div className="mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded">
          <p className="text-yellow-800 text-sm">
            âš ï¸ ì¼ê´€ì„± ë¹„ìœ¨ì´ 0.1ì„ ì´ˆê³¼í–ˆìŠµë‹ˆë‹¤. ë‹¤ìŒ ì œì•ˆì„ ê²€í† í•˜ì—¬ íŒë‹¨ì„ ìˆ˜ì •í•´ë³´ì„¸ìš”.
          </p>
        </div>

        <div className="space-y-3">
          {suggestions.map(suggestion => (
            <div key={`${suggestion.i}-${suggestion.j}`} className="border border-gray-200 rounded-lg p-4">
              <div className="flex justify-between items-start mb-3">
                <div>
                  <h5 className="font-medium text-red-600">ì œì•ˆ {suggestion.rank}</h5>
                  <p className="text-sm text-gray-600">
                    <strong>{elements[suggestion.i]?.name}</strong> vs <strong>{elements[suggestion.j]?.name}</strong>
                  </p>
                </div>
                <span className="text-xs bg-red-100 text-red-700 px-2 py-1 rounded">
                  ì˜¤ì°¨: {suggestion.errorMagnitude.toFixed(3)}
                </span>
              </div>

              <div className="grid grid-cols-1 md:grid-cols-2 gap-4 mb-3">
                <div className="bg-gray-50 p-3 rounded">
                  <div className="text-sm text-gray-600">í˜„ì¬ ê°’</div>
                  <div className="font-medium">{formatSaatyValue(suggestion.currentValue)}</div>
                </div>
                <div className="bg-green-50 p-3 rounded">
                  <div className="text-sm text-green-600">ê¶Œì¥ ê°’</div>
                  <div className="font-medium text-green-700">
                    {formatSaatyValue(suggestion.recommendedValue)}
                  </div>
                </div>
              </div>

              <button
                onClick={() => onSuggestionApply(suggestion.i, suggestion.j, suggestion.recommendedValue)}
                className="w-full bg-green-500 text-white py-2 rounded hover:bg-green-600"
              >
                ì´ ì œì•ˆ ì ìš©
              </button>
            </div>
          ))}
        </div>

        <div className="mt-6 flex justify-end space-x-3">
          <button
            onClick={onClose}
            className="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600"
          >
            ë‚˜ì¤‘ì— ìˆ˜ì •
          </button>
        </div>
      </div>
    </div>
  );
};

export default ConsistencyHelper;
```

## ğŸ“‹ ì¦‰ì‹œ ì ìš©í•  ìˆ˜ì •ì‚¬í•­

### 1. PairwiseComparison.tsx ê°œì„ 

```typescript
// ì¶”ê°€í•  ìƒíƒœì™€ ê¸°ëŠ¥
const [consistencyRatio, setConsistencyRatio] = useState<number>(0);
const [showConsistencyHelper, setShowConsistencyHelper] = useState(false);

// ì‹¤ì‹œê°„ ì¼ê´€ì„± ê³„ì‚°
useEffect(() => {
  if (pairs.length > 0 && getCompletedCount() === pairs.length) {
    try {
      const matrix = buildComparisonMatrix(elements!, comparisons);
      const result = calculateAHP(matrix);
      setConsistencyRatio(result.consistencyRatio);
      
      if (result.consistencyRatio > 0.1) {
        setShowConsistencyHelper(true);
      }
    } catch (error) {
      console.error('Failed to calculate consistency:', error);
    }
  }
}, [comparisons, pairs]);

// CR > 0.1 ì‹œ íŒë‹¨ ë„ìš°ë¯¸ í‘œì‹œ
{showConsistencyHelper && (
  <ConsistencyHelper
    matrix={currentMatrix}
    elements={elements}
    onSuggestionApply={(i, j, value) => {
      // ì œì•ˆ ì ìš© ë¡œì§
      applySuggestion(i, j, value);
      setShowConsistencyHelper(false);
    }}
    onClose={() => setShowConsistencyHelper(false)}
  />
)}
```

### 2. ModelBuilder.tsxì— í‰ê°€ì ë°°ì • ì¶”ê°€

```typescript
// ModelBuilder.tsxì— ì¶”ê°€
import EvaluatorAssignment from '../admin/EvaluatorAssignment';

// ìƒˆ íƒ­ ì¶”ê°€
const [activeModelTab, setActiveModelTab] = useState<'criteria' | 'alternatives' | 'evaluators'>('criteria');

// íƒ­ ë„¤ë¹„ê²Œì´ì…˜ UI
<div className="flex space-x-4 border-b border-gray-200 mb-6">
  <button
    onClick={() => setActiveModelTab('criteria')}
    className={`pb-2 px-1 ${activeModelTab === 'criteria' ? 'border-b-2 border-blue-500 text-blue-600' : 'text-gray-500'}`}
  >
    í‰ê°€ ê¸°ì¤€
  </button>
  <button
    onClick={() => setActiveModelTab('alternatives')}
    className={`pb-2 px-1 ${activeModelTab === 'alternatives' ? 'border-b-2 border-blue-500 text-blue-600' : 'text-gray-500'}`}
  >
    ëŒ€ì•ˆ
  </button>
  <button
    onClick={() => setActiveModelTab('evaluators')}
    className={`pb-2 px-1 ${activeModelTab === 'evaluators' ? 'border-b-2 border-blue-500 text-blue-600' : 'text-gray-500'}`}
  >
    í‰ê°€ì ë°°ì •
  </button>
</div>

// ì¡°ê±´ë¶€ ë Œë”ë§
{activeModelTab === 'evaluators' && (
  <EvaluatorAssignment projectId={projectId} />
)}
```

ì´ëŸ¬í•œ ê°œì„ ì‚¬í•­ë“¤ì„ í†µí•´ ìš”êµ¬ì‚¬í•­ì˜ í™”ë©´ ì„¤ê³„ë¥¼ 90% ì´ìƒ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.