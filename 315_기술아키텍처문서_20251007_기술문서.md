# ê¸°ìˆ  ì•„í‚¤í…ì²˜ ë¬¸ì„œ

## ğŸ“… ë¬¸ì„œ ì‘ì„±ì¼
**2024ë…„ 12ì›” 18ì¼**

## ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ê°œìš”

### ì „ì²´ êµ¬ì¡°
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend      â”‚    â”‚    Backend      â”‚    â”‚   Database      â”‚
â”‚  (GitHub Pages) â”‚â—„â”€â”€â–ºâ”‚   (Render.com)  â”‚â—„â”€â”€â–ºâ”‚  (PostgreSQL)   â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚ React + TypeScriptâ”‚   â”‚ Node.js + Expressâ”‚   â”‚ Render.com DB   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ ê¸°ìˆ  ìŠ¤íƒ

### Frontend
- **Framework**: React 18.2.0
- **Language**: TypeScript 4.9.5
- **Build Tool**: Create React App
- **Styling**: Tailwind CSS
- **Deployment**: GitHub Pages
- **Package Manager**: npm

### Backend
- **Runtime**: Node.js
- **Framework**: Express.js
- **Language**: TypeScript
- **Authentication**: JWT (JSON Web Tokens)
- **Validation**: express-validator
- **CORS**: cors middleware
- **Deployment**: Render.com

### Database
- **DBMS**: PostgreSQL 15+
- **ORM**: Native SQL queries (pg library)
- **Hosting**: Render.com Managed PostgreSQL
- **Connection Pooling**: pg.Pool

### DevOps & Deployment
- **Version Control**: Git + GitHub
- **CI/CD**: GitHub Actions (ìë™ ë°°í¬)
- **Frontend Hosting**: GitHub Pages
- **Backend Hosting**: Render.com
- **Domain**: Custom subdomain

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

### Frontend Structure
```
frontend/
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ index.html
â”‚   â””â”€â”€ manifest.json
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ common/          # ê³µí†µ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ Button.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Card.tsx
â”‚   â”‚   â”‚   â””â”€â”€ Input.tsx
â”‚   â”‚   â”œâ”€â”€ admin/           # ê´€ë¦¬ì ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ PersonalServiceDashboard.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ EnhancedEvaluatorManagement.tsx
â”‚   â”‚   â”‚   â””â”€â”€ SurveyLinkManager.tsx
â”‚   â”‚   â”œâ”€â”€ auth/            # ì¸ì¦ ê´€ë ¨
â”‚   â”‚   â”œâ”€â”€ evaluation/      # í‰ê°€ ê´€ë ¨
â”‚   â”‚   â””â”€â”€ subscription/    # êµ¬ë… ê´€ë ¨
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ api.ts          # API ì„¤ì •
â”‚   â”œâ”€â”€ types/              # TypeScript íƒ€ì… ì •ì˜
â”‚   â”œâ”€â”€ App.tsx
â”‚   â””â”€â”€ index.tsx
â”œâ”€â”€ package.json
â””â”€â”€ tsconfig.json
```

### Backend Structure
```
backend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ routes/             # API ë¼ìš°í„°
â”‚   â”‚   â”œâ”€â”€ projects.ts
â”‚   â”‚   â”œâ”€â”€ evaluators.ts
â”‚   â”‚   â””â”€â”€ auth.ts
â”‚   â”œâ”€â”€ middleware/         # ë¯¸ë“¤ì›¨ì–´
â”‚   â”‚   â””â”€â”€ auth.ts
â”‚   â”œâ”€â”€ database/           # ë°ì´í„°ë² ì´ìŠ¤
â”‚   â”‚   â””â”€â”€ connection.ts
â”‚   â”œâ”€â”€ types/              # íƒ€ì… ì •ì˜
â”‚   â””â”€â”€ server.ts
â”œâ”€â”€ package.json
â””â”€â”€ tsconfig.json
```

## ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„

### í•µì‹¬ í…Œì´ë¸” êµ¬ì¡°

#### users í…Œì´ë¸”
```sql
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  email VARCHAR(255) UNIQUE NOT NULL,
  password_hash VARCHAR(255) NOT NULL,
  first_name VARCHAR(100) NOT NULL,
  last_name VARCHAR(100) NOT NULL,
  role VARCHAR(20) CHECK(role IN ('admin', 'evaluator')) NOT NULL DEFAULT 'evaluator',
  is_active BOOLEAN NOT NULL DEFAULT true,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP
);
```

#### projects í…Œì´ë¸”
```sql
CREATE TABLE projects (
  id SERIAL PRIMARY KEY,
  title VARCHAR(255) NOT NULL,
  name VARCHAR(255),
  description TEXT,
  objective TEXT,
  admin_id INTEGER NOT NULL REFERENCES users(id),
  status VARCHAR(20) DEFAULT 'draft',
  evaluation_mode VARCHAR(20) DEFAULT 'practical',
  workflow_stage VARCHAR(20) DEFAULT 'creating',
  created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP
);
```

#### ê´€ê³„í˜• ëª¨ë¸ë§
- **1:N ê´€ê³„**: User â†’ Projects (í•œ ì‚¬ìš©ìê°€ ì—¬ëŸ¬ í”„ë¡œì íŠ¸ ì†Œìœ )
- **N:M ê´€ê³„**: Projects â†” Evaluators (ë‹¤ëŒ€ë‹¤ ê´€ê³„)
- **ê³„ì¸µ êµ¬ì¡°**: Criteria (ë¶€ëª¨-ìì‹ ê´€ê³„)

### ì¸ë±ìŠ¤ ìµœì í™”
```sql
-- ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•œ ì¸ë±ìŠ¤
CREATE INDEX idx_projects_admin_id ON projects(admin_id);
CREATE INDEX idx_projects_status ON projects(status);
CREATE INDEX idx_project_evaluators_project_id ON project_evaluators(project_id);
```

## ğŸ” ë³´ì•ˆ ì•„í‚¤í…ì²˜

### ì¸ì¦ & ì¸ê°€
- **JWT í† í°**: Stateless ì¸ì¦
- **Role-based Access Control**: admin/evaluator ì—­í•  êµ¬ë¶„
- **í† í° ë§Œë£Œ**: ë³´ì•ˆì„ ìœ„í•œ ì‹œê°„ ì œí•œ

### API ë³´ì•ˆ
```typescript
// ì¸ì¦ ë¯¸ë“¤ì›¨ì–´
export const authenticateToken = (req: Request, res: Response, next: NextFunction) => {
  const authHeader = req.headers['authorization'];
  const token = authHeader && authHeader.split(' ')[1];
  
  if (!token) {
    return res.status(401).json({ error: 'Access token required' });
  }
  
  jwt.verify(token, process.env.JWT_SECRET!, (err, user) => {
    if (err) return res.status(403).json({ error: 'Invalid token' });
    req.user = user;
    next();
  });
};
```

### ë°ì´í„° ë³´í˜¸
- **CORS ì„¤ì •**: í—ˆìš©ëœ ë„ë©”ì¸ë§Œ ì ‘ê·¼
- **Input Validation**: express-validatorë¡œ ì…ë ¥ ê²€ì¦
- **SQL Injection ë°©ì§€**: Parameterized queries
- **XSS ë°©ì§€**: Reactì˜ ìë™ escaping

## ğŸ“¡ API ì„¤ê³„ ì›ì¹™

### RESTful API
- **Resource-based URLs**: `/api/projects`, `/api/evaluators`
- **HTTP Methods**: GET, POST, PUT, DELETE
- **Status Codes**: ì ì ˆí•œ HTTP ìƒíƒœ ì½”ë“œ ì‚¬ìš©
- **JSON Format**: ì¼ê´€ëœ ì‘ë‹µ í˜•ì‹

### API ì‘ë‹µ í˜•ì‹
```typescript
// ì„±ê³µ ì‘ë‹µ
{
  "success": true,
  "data": {...},
  "message": "Operation completed successfully"
}

// ì˜¤ë¥˜ ì‘ë‹µ
{
  "success": false,
  "error": "Error message",
  "details": [...] // ìƒì„¸ ì˜¤ë¥˜ ì •ë³´
}
```

### ë²„ì „ ê´€ë¦¬
- URL ê¸°ë°˜ ë²„ì „ ê´€ë¦¬: `/api/v1/projects`
- í•˜ìœ„ í˜¸í™˜ì„± ìœ ì§€

## ğŸš€ ë°°í¬ ì•„í‚¤í…ì²˜

### Frontend (GitHub Pages)
```yaml
# .github/workflows/deploy.yml
name: Deploy to GitHub Pages
on:
  push:
    branches: [ main ]
jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Setup Node
        uses: actions/setup-node@v2
        with:
          node-version: '18'
      - name: Install and Build
        run: |
          cd frontend
          npm install
          npm run build
      - name: Deploy
        uses: peaceiris/actions-gh-pages@v3
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_dir: ./frontend/build
```

### Backend (Render.com)
- **Auto-deploy**: GitHub ì—°ë™ìœ¼ë¡œ ìë™ ë°°í¬
- **Environment Variables**: í™˜ê²½ ë³€ìˆ˜ ê´€ë¦¬
- **Health Checks**: ì„œë¹„ìŠ¤ ìƒíƒœ ëª¨ë‹ˆí„°ë§

### Database (Render.com PostgreSQL)
- **Managed Service**: ìë™ ë°±ì—… ë° ê´€ë¦¬
- **Connection Pooling**: ì„±ëŠ¥ ìµœì í™”
- **SSL Connection**: ë³´ì•ˆ ì—°ê²°

## ğŸ“Š ìƒíƒœ ê´€ë¦¬ ì•„í‚¤í…ì²˜

### Frontend State Management
```typescript
// React Hook ê¸°ë°˜ ìƒíƒœ ê´€ë¦¬
const [projects, setProjects] = useState<Project[]>([]);
const [loading, setLoading] = useState(false);
const [error, setError] = useState<string | null>(null);

// ì´ì¤‘ ë°±ì—… ì‹œìŠ¤í…œ
useEffect(() => {
  loadProjects().catch(() => {
    // ë°±ì—”ë“œ ì‹¤íŒ¨ ì‹œ localStorageì—ì„œ ë³µêµ¬
    const backup = localStorage.getItem('projects_backup');
    if (backup) setProjects(JSON.parse(backup));
  });
}, []);
```

### ë°ì´í„° ë™ê¸°í™”
- **ì‹¤ì‹œê°„ ë™ê¸°í™”**: ë©”ë‰´ ë³€ê²½ ì‹œ ìë™ ë¦¬ë¡œë“œ
- **Optimistic Updates**: ì¦‰ì‹œ UI ì—…ë°ì´íŠ¸
- **Error Recovery**: ì‹¤íŒ¨ ì‹œ ì´ì „ ìƒíƒœ ë³µêµ¬

## ğŸ”§ ê°œë°œ ë„êµ¬ ë° í™˜ê²½

### ê°œë°œ í™˜ê²½ ì„¤ì •
```bash
# í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ ì„œë²„
cd frontend
npm start  # http://localhost:3000

# ë°±ì—”ë“œ ê°œë°œ ì„œë²„  
cd backend
npm run dev  # http://localhost:5000
```

### ì½”ë“œ í’ˆì§ˆ ê´€ë¦¬
- **ESLint**: ì½”ë“œ ìŠ¤íƒ€ì¼ ê²€ì‚¬
- **TypeScript**: íƒ€ì… ì•ˆì „ì„±
- **Prettier**: ì½”ë“œ í¬ë§·íŒ…

### ë¹Œë“œ ìµœì í™”
```javascript
// webpack.config.js (Create React App ë‚´ì¥)
module.exports = {
  optimization: {
    splitChunks: {
      chunks: 'all',
    },
  },
  performance: {
    maxAssetSize: 500000,
    maxEntrypointSize: 500000,
  },
};
```

## ğŸ“ˆ ì„±ëŠ¥ ìµœì í™” ì „ëµ

### Frontend ìµœì í™”
- **Code Splitting**: React.lazy()ë¡œ ë™ì  ë¡œë”©
- **Memoization**: React.memo()ë¡œ ë¶ˆí•„ìš”í•œ ë Œë”ë§ ë°©ì§€
- **Bundle Size**: ë²ˆë“¤ í¬ê¸° ìµœì í™”

### Backend ìµœì í™”
- **Connection Pooling**: ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° í’€ë§
- **Query Optimization**: íš¨ìœ¨ì ì¸ SQL ì¿¼ë¦¬
- **Caching**: ë©”ëª¨ë¦¬ ìºì‹± ì „ëµ

### Database ìµœì í™”
- **Indexing**: ì ì ˆí•œ ì¸ë±ìŠ¤ ì„¤ê³„
- **Query Plan**: ì‹¤í–‰ ê³„íš ë¶„ì„
- **Connection Management**: ì—°ê²° ê´€ë¦¬ ìµœì í™”

## ğŸ”„ ë°ì´í„° í”Œë¡œìš°

### í”„ë¡œì íŠ¸ ìƒì„± í”Œë¡œìš°
```
User Input â†’ Form Validation â†’ API Request â†’ Database Insert â†’ Response â†’ UI Update â†’ localStorage Backup
```

### ì¸ì¦ í”Œë¡œìš°
```
Login Form â†’ Credentials â†’ JWT Token â†’ localStorage â†’ API Headers â†’ Backend Verification
```

### ì˜¤ë¥˜ ì²˜ë¦¬ í”Œë¡œìš°
```
API Error â†’ Error Handling â†’ User Notification â†’ Fallback Data â†’ Recovery Strategy
```

## ğŸ”® í™•ì¥ì„± ê³ ë ¤ì‚¬í•­

### ìˆ˜í‰ í™•ì¥
- **Stateless Backend**: ì„œë²„ ì¸ìŠ¤í„´ìŠ¤ í™•ì¥ ê°€ëŠ¥
- **Database Scaling**: ì½ê¸° ì „ìš© ë³µì œë³¸ í™œìš©
- **CDN**: ì •ì  ìì› ë¶„ì‚°

### ìˆ˜ì§ í™•ì¥
- **Resource Optimization**: ë©”ëª¨ë¦¬ ë° CPU ìµœì í™”
- **Query Performance**: ë°ì´í„°ë² ì´ìŠ¤ ì„±ëŠ¥ íŠœë‹
- **Caching Strategy**: ë‹¤ê³„ì¸µ ìºì‹±

### ë¯¸ë˜ ê¸°ìˆ  ë„ì…
- **GraphQL**: REST API ëŒ€ì²´ ê²€í† 
- **Microservices**: ì„œë¹„ìŠ¤ ë¶„í•  ê³ ë ¤
- **Container**: Docker ì»¨í…Œì´ë„ˆí™”
- **Serverless**: ì„œë²„ë¦¬ìŠ¤ ì•„í‚¤í…ì²˜ ê²€í† 

---

**ë¬¸ì„œ ì‘ì„±ì¼**: 2024ë…„ 12ì›” 18ì¼  
**ì‘ì„±ì**: Claude Code (AI Assistant)  
**ë²„ì „**: 1.0  
**ìƒíƒœ**: âœ… í˜„ì¬ ìš´ì˜ ì¤‘ì¸ ì•„í‚¤í…ì²˜