# 15. 샘플 프로젝트 생성 가이드

## 일시
- **일시**: 2025년 8월 17일 12:15:00

## 개요
AHP 시스템에서 다양한 샘플 프로젝트를 생성할 수 있는 완전한 기능을 구현했습니다.

## 1. 새로운 API 엔드포인트

### 1.1 프로젝트 생성
```http
POST /api/projects
Content-Type: application/json

{
  "title": "내 프로젝트",
  "description": "프로젝트 설명",
  "objective": "프로젝트 목표",
  "template": "smartphone"
}
```

**응답:**
```json
{
  "message": "Project created successfully",
  "project": {
    "id": 3,
    "title": "스마트폰 선택 평가",
    "description": "새로운 스마트폰 구매를 위한 다기준 의사결정",
    "objective": "가격, 성능, 디자인을 고려한 최적의 스마트폰 선택",
    "status": "active",
    "admin_id": 1,
    "created_at": "2025-08-15T...",
    "updated_at": "2025-08-15T..."
  }
}
```

### 1.2 템플릿 목록 조회
```http
GET /api/projects/templates
```

**응답:**
```json
{
  "templates": [
    {
      "id": "smartphone",
      "name": "스마트폰 선택 평가",
      "description": "새로운 스마트폰 구매를 위한 다기준 의사결정",
      "category": "제품 선택",
      "criteria_count": 3,
      "alternatives_count": 3
    },
    {
      "id": "hiring",
      "name": "직원 채용 평가",
      "description": "신입 개발자 채용을 위한 평가 시스템",
      "category": "인사 관리",
      "criteria_count": 3,
      "alternatives_count": 3
    },
    {
      "id": "software",
      "name": "소프트웨어 선택 평가",
      "description": "기업용 소프트웨어 도입을 위한 의사결정",
      "category": "기술 선택",
      "criteria_count": 3,
      "alternatives_count": 3
    },
    {
      "id": "investment",
      "name": "투자 포트폴리오 선택",
      "description": "개인 투자자를 위한 포트폴리오 구성",
      "category": "투자 결정",
      "criteria_count": 3,
      "alternatives_count": 3
    }
  ]
}
```

## 2. 사용 가능한 템플릿

### 2.1 스마트폰 선택 평가 (smartphone)
**기준:**
- 가격: 구매 비용 및 가성비
- 성능: 처리 속도 및 기능
- 디자인: 외관 및 사용성

**대안:**
- iPhone 15 Pro: ₩1,200,000
- Samsung Galaxy S24: ₩1,100,000
- Google Pixel 8: ₩800,000

### 2.2 직원 채용 평가 (hiring)
**기준:**
- 기술력: 프로그래밍 및 개발 능력
- 커뮤니케이션: 의사소통 및 협업 능력
- 성장 가능성: 학습 의지 및 발전 잠재력

**대안:**
- 후보자 A: 5년 경력의 풀스택 개발자
- 후보자 B: 신입 개발자, 컴퓨터공학 전공
- 후보자 C: 3년 경력의 프론트엔드 개발자

### 2.3 소프트웨어 선택 평가 (software)
**기준:**
- 기능성: 필요한 기능의 완성도
- 비용: 도입 및 운영 비용
- 사용성: 사용자 친화성 및 학습 용이성

**대안:**
- 솔루션 A: 대기업용 통합 솔루션 (₩5,000,000)
- 솔루션 B: 중소기업용 클라우드 솔루션 (₩2,000,000)
- 솔루션 C: 오픈소스 기반 커스텀 솔루션 (₩1,000,000)

### 2.4 투자 포트폴리오 선택 (investment)
**기준:**
- 수익성: 기대 수익률
- 안정성: 투자 위험도
- 유동성: 현금화 용이성

**대안:**
- 주식 포트폴리오: 성장주 중심의 주식 투자
- 채권 포트폴리오: 안정적인 채권 투자
- 부동산 투자: 부동산 직접 투자 또는 리츠

## 3. 프로젝트 생성 방법

### 3.1 템플릿을 사용한 생성
```bash
curl -X POST https://ahp-forpaper.onrender.com/api/projects \
  -H "Content-Type: application/json" \
  -d '{
    "template": "smartphone"
  }'
```

### 3.2 커스텀 프로젝트 생성
```bash
curl -X POST https://ahp-forpaper.onrender.com/api/projects \
  -H "Content-Type: application/json" \
  -d '{
    "title": "레스토랑 선택 평가",
    "description": "저녁 식사 장소 결정을 위한 평가",
    "objective": "음식, 가격, 분위기를 고려한 최적의 레스토랑 선택"
  }'
```

## 4. 생성된 프로젝트 확인

### 4.1 프로젝트 목록에서 확인
```bash
curl https://ahp-forpaper.onrender.com/api/projects
```

### 4.2 프로젝트 상세 정보 확인
```bash
curl https://ahp-forpaper.onrender.com/api/projects/3
```

### 4.3 생성된 기준 확인
```bash
curl https://ahp-forpaper.onrender.com/api/criteria/3
```

### 4.4 생성된 대안 확인
```bash
curl https://ahp-forpaper.onrender.com/api/alternatives/3
```

## 5. 동적 데이터 관리

### 5.1 메모리 내 데이터 저장
- 프로젝트, 기준, 대안 데이터가 서버 메모리에 저장
- 동적 ID 생성으로 충돌 방지
- 실시간 데이터 업데이트

### 5.2 ID 관리 시스템
```javascript
let nextId = 3;           // 다음 프로젝트 ID
let nextCriteriaId = 7;   // 다음 기준 ID  
let nextAlternativeId = 7; // 다음 대안 ID
```

### 5.3 데이터 구조
```javascript
// 프로젝트 배열
projects = [
  {
    id: 1,
    title: "프로젝트명",
    description: "설명",
    objective: "목표",
    status: "active",
    admin_id: 1,
    created_at: "ISO 시간",
    updated_at: "ISO 시간"
  }
]

// 기준 배열
criteria = [
  {
    id: 1,
    project_id: 1,
    name: "기준명",
    description: "설명",
    level: 1,
    position: 1,
    weight: 0.0
  }
]

// 대안 배열
alternatives = [
  {
    id: 1,
    project_id: 1,
    name: "대안명",
    description: "설명",
    cost: 1000000,
    position: 1
  }
]
```

## 6. 프론트엔드 연동 예제

### 6.1 React 컴포넌트 예제
```typescript
const CreateProject = () => {
  const [templates, setTemplates] = useState([]);
  const [selectedTemplate, setSelectedTemplate] = useState('');

  // 템플릿 목록 조회
  useEffect(() => {
    fetch('/api/projects/templates')
      .then(res => res.json())
      .then(data => setTemplates(data.templates));
  }, []);

  // 프로젝트 생성
  const createProject = async () => {
    const response = await fetch('/api/projects', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        template: selectedTemplate
      })
    });
    
    const result = await response.json();
    console.log('프로젝트 생성됨:', result.project);
  };

  return (
    <div>
      <h2>샘플 프로젝트 생성</h2>
      <select 
        value={selectedTemplate} 
        onChange={(e) => setSelectedTemplate(e.target.value)}
      >
        <option value="">템플릿 선택</option>
        {templates.map(template => (
          <option key={template.id} value={template.id}>
            {template.name} ({template.category})
          </option>
        ))}
      </select>
      <button onClick={createProject}>프로젝트 생성</button>
    </div>
  );
};
```

## 7. 테스트 시나리오

### 7.1 기본 생성 테스트
1. 템플릿 목록 조회
2. 스마트폰 템플릿으로 프로젝트 생성
3. 생성된 프로젝트 확인
4. 기준과 대안 자동 생성 확인

### 7.2 여러 프로젝트 생성 테스트
```bash
# 1. 스마트폰 프로젝트 생성
curl -X POST https://ahp-forpaper.onrender.com/api/projects \
  -H "Content-Type: application/json" \
  -d '{"template": "smartphone"}'

# 2. 채용 프로젝트 생성  
curl -X POST https://ahp-forpaper.onrender.com/api/projects \
  -H "Content-Type: application/json" \
  -d '{"template": "hiring"}'

# 3. 전체 프로젝트 목록 확인
curl https://ahp-forpaper.onrender.com/api/projects
```

## 8. 고급 기능

### 8.1 중복 프로젝트 생성 허용
- 같은 템플릿으로 여러 프로젝트 생성 가능
- 각각 고유 ID로 구분

### 8.2 혼합 데이터 처리
- 기존 프로젝트와 새 프로젝트 함께 관리
- 동적 필터링으로 프로젝트별 데이터 분리

### 8.3 확장 가능한 구조
- 새로운 템플릿 쉽게 추가 가능
- 기준과 대안 수 자유롭게 조정 가능

## 9. 현재 상태

✅ **완전한 프로젝트 생성 시스템**
- 4가지 샘플 템플릿 제공
- 동적 ID 관리
- 완전한 데이터 구조

✅ **즉시 사용 가능**
- https://ahp-forpaper.onrender.com 배포 완료
- 모든 API 엔드포인트 정상 작동
- 실시간 테스트 가능

✅ **프론트엔드 호환**
- RESTful API 설계
- JSON 응답 형식
- CORS 지원

이제 사용자가 원하는 만큼 샘플 프로젝트를 생성하고 AHP 평가를 수행할 수 있습니다! 🚀